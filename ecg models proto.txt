source_org:
name CharField(max_length=200, unique=True, help_text="Название организации")
description TextField(help_text="Дополнительная информация об организации", null=True, blank = True)

patients:
sex_list = [(N, 'Не задан'), (M,'Мужской'), (F, 'Женский')]
sex = CharField(
        max_length=1,
        choices=sex_list,
        default=N,
	help_text="Пол пациента")
birthdate = DateField(help_text="Дата рождения", null=True, blank = True)
name = CharField(max_length=50, help_text="Имя", null=True, blank = True)
last_name = CharField(max_length=50, help_text="Фамилия", null=True, blank = True)
middle_name = CharField(max_length=50, help_text="Отчество", null=True, blank = True)

cardiac_pathology:
name CharField(max_length=100, unique=True, help_text="Название патологии")
short_name CharField(max_length=20, help_text="Короткое название", null=True, blank = True) #не уверен даст ли сделать несколько пустых названий(предполагается что это поле используется только когда основное название слишком длинное)

access_groups:
description TextField(help_text="Информация о группе доступа")

user_access:
user_id ForeignKey(user, on_delete=models.CASCADE)
group_id ForeignKey(access_groups, on_delete=models.CASCADE)

ecg:
check_date DateField(help_text="Дата снятия показаний", null=True, blank = True)
add_date DateField(help_text="Дата внесения в систему", auto_now_add=True)
patient_age IntegerField(help_text="Возраст пациэнта на момент снятия показаний(для показаний не имеющих даты рождения пациента)", null=True, blank = True, validators=[MinValueValidator(0), MaxValueValidator(150)])
patient_id ForeignKey(patients, models.SET_NULL, blank=True, null=True, help_text="Пациент которому принадлежит экг")
source_user ForeignKey(user, models.SET_NULL, blank=True, null=True, help_text="Пользователь, загрузивший экг на сайт")
access_id ForeignKey(access_groups, models.SET_NULL, blank=True, null=True, help_text="Группа доступа к которой принадлежит экг")
org_id ForeignKey(source_org, models.SET_NULL, blank=True, null=True, help_text="Организация от которой получено экг")

ecg_files:
ecg_id ForeignKey(ecg, on_delete=models.CASCADE)
type CharField(max_length=20, help_text="Тип файла", null=True, blank = True)
file_name CharField(max_length=1024, unique=True, help_text="Имя объекта в MinIo")
sample_frequency IntegerField()
amplitude_resolution IntegerField()

original_information:
ecg_id ForeignKey(ecg, on_delete=models.CASCADE)
idMedServ CharField(max_length=20)
patientId CharField(max_length=20)
result TextField()

ecg_tasks:
user_id ForeignKey(user, on_delete=models.CASCADE)
ecg_id ForeignKey(ecg, on_delete=models.CASCADE)

ecg_conclusion:
user_id ForeignKey(user, on_delete=models.CASCADE)
ecg_id ForeignKey(ecg, on_delete=models.CASCADE)
date_time DateField(help_text="Дата вынесения заключения", auto_now_add=True)
comment TextField(help_text="Текстовое заключение", null=True, blank = True)

conclusion_pathology:
conclusion_id ForeignKey(ecg_conclusion, on_delete=models.CASCADE)
pathology_id ForeignKey(cardiac_pathology, on_delete=models.CASCADE)